<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Modern Animated Pop-up</title>
	<style>
		/* 1. Basic Page Styling */
		body {
			font-family: system-ui, -apple-system, sans-serif;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
			background-color: #f4f7f6;
			margin: 0;
		}

		h1 {
			color: #333;
			display: flex;
			align-items: center;
			gap: 10px;
		}

		/* The Icon Button */
		#openBtn {
			background: #e0e0e0;
			border: none;
			padding: 8px;
			border-radius: 50%;
			cursor: pointer;
			font-size: 1.5rem;
			transition: transform 0.2s ease, background 0.2s ease;
			line-height: 1;
		}

		#openBtn:hover {
			background: #d0d0d0;
			transform: scale(1.1);
		}

		/* 2. The Dialog (Pop-up) Styling */
		dialog {
			border: none;
			border-radius: 12px;
			padding: 2rem;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
			width: 90%;
			max-width: 400px;
		}

		/* 3. The Animation Logic */

		/* When the dialog is opened, run the fade-in animation */
		dialog[open] {
			animation: fadeIn 0.3s ease-out forwards;
		}

		/* Styling the background overlay (backdrop) */
		dialog::backdrop {
			background: rgba(0, 0, 0, 0.4);
			backdrop-filter: blur(4px);
			/* Backdrop also needs its own animation */
			animation: backdropFade 0.3s ease-out forwards;
		}

		/* Define the Keyframes */
		@keyframes fadeIn {
			from {
				opacity: 0;
				transform: translateY(20px) scale(0.95);
			}

			to {
				opacity: 1;
				transform: translateY(0) scale(1);
			}
		}

		@keyframes backdropFade {
			from {
				opacity: 0;
			}

			to {
				opacity: 1;
			}
		}

		/* Button inside the modal */
		#closeBtn {
			margin-top: 20px;
			padding: 10px 20px;
			background-color: #ff4757;
			color: white;
			border: none;
			border-radius: 6px;
			cursor: pointer;
			width: 100%;
		}
	</style>
</head>

<body>

	<h1>
		Settings
		<button id="openBtn" title="Open Settings" onclick="openNextDialog(this)">⚙️</button>
	</h1>

	<dialog id="userDialog" onclick="closeOnClickOutsideOf(this, event)">
		<h2>Configuration <button onclick="closeContainerDialog(this)">X</button></h2>
		<p>You’ve successfully opened a native HTML modal with a smooth CSS animation.</p>
		
	</dialog>

	<script>
		function openNextDialog(button) {
			const dialog = button.parentElement.nextElementSibling
			dialog.showModal()
		}

		function closeContainerDialog(button) {
			const dialog = button.closest('dialog')
			dialog.close()
		}
		function closeOnClickOutsideOf(dialog, event) {
			const dialogDimensions = dialog.getBoundingClientRect();
			if (event.clientX < dialogDimensions.left || event.clientX > dialogDimensions.right
				|| event.clientY < dialogDimensions.top || event.clientY > dialogDimensions.bottom) {
				dialog.close();
			}
		}
	</script>
</body>

</html>